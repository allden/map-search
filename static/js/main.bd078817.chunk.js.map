{"version":3,"sources":["images/marker.png","images/marker_alt.png","Map.js","SearchForm.js","Weather.js","Nav.js","App.js","index.js"],"names":["module","exports","markerIcon","L","icon","iconUrl","marker","iconRetinaUrl","iconAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","className","markerAltIcon","markerAlt","MapComponent","props","lat","long","zoom","places","nearest","queryError","errorMessage","position","markers","length","map","place","venue","name","location","placePosition","lng","formatCoordinates","placeAddress","formattedAddress","join","formatAddress","metricsObject","meters","miles","toFixed","formatToMiles","kilometers","formatToKilometers","createMetricsObj","distance","isNearest","referralId","Marker","key","Popup","Map","center","style","flexGrow","TileLayer","url","attribution","Circle","radius","SearchForm","onChangeHandler","e","target","id","value","setState","onSubmitHandler","query","state","search","preventDefault","fetchPlacesData","this","onSubmit","onChange","type","placeholder","Component","WeatherComponent","refreshTime","localTime","Date","toLocaleString","replace","currentTime","interval","temp","units","String","fromCharCode","date","hours","prependZero","getHours","minutes","getMinutes","seconds","getSeconds","number","text","toUpperCase","setInterval","clearInterval","weather","current","sunrise","sunset","feels_like","visibility","humidity","wind_deg","wind_speed","country","road","city","town","capitalizeText","description","getTime","formatTemp","convertToKilometers","formatDate","Nav","App","componentDidMount","a","fetchGeoData","then","fetchGeoDataNavigator","success","pos","coords","latitude","longitude","reverseGeoCode","setStateCallback","error","err","getNearest","result","shortestDistance","Number","POSITIVE_INFINITY","i","fetchWeatherData","fetch","res","json","navigator","geolocation","getCurrentPosition","data","ll","locationQuery","forwardGeoCode","fetchPlacesRequest","limit","response","groups","items","results","components","cb","formattedQuery","trim","geometry","Weather","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bd078817.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABMCAYAAAAvF+QAAAAACXBIWXMAAAsSAAALEgHS3X78AAAJnUlEQVRoQ9Wbe4xU1R3HfzO7ywIx1tlV0bQ+QoNajUZF04qJYaFtRJrY2Oof/qW1/adp1BjjKz7oQzEsGoVoDAHTFiVGJJBUmiosCyiLSi3oCj6iEdBWJDzEXXYYdmduP78z92zv7s7s3HPunV16snfn7p17fr/f9/ze597NSJ3GoZlydZCRG7MiF8IiUxL5NCOyuqVTXq8HS2gnHwdmyoSGjFwApcslI5fwOU0C+V4gchoMJisHzvOcH+TzS/78FIDdfL5bFPmwtVPySaVIBOTwLJmOQDcg3HVBID9ozgo/CA3VIirgR0p8qSPLNXOE59wvx0rSr6C4/DpzVh7ul61T3zDTnIcXkMNtci0T72D1Z03MyIQBhNJDJYhLUPEpsMbwAFSJ0zcB/sy3JVl1ziZBWfFHXL6GIiZ0cVNWHuH05wjQ0K/CczgRqSCbglIaTfzSxeDvdcVA5uFPXXGhxJJh7WUiM06R2zGLeQDJFeBmmcdlFOc+S3MCUqHhPsxtQUFk/pQNcrzW/JpADrTJSaz+YlbrFjUfViqxBmoJZcyOo7lBhEX7G3x/fWqn7B9t3qhADrZJjmj04sSszMljsfXQQjXhLC94K5h3YP9LotsX1e6vCuTgTDkJZ3x5UoPM6RsoG3FN9dVaasfvNbIp00llMNuw6J/hNxU1oxocMY78mICSkUUQmNOnsWMcQKhQyGAWLw+CiQ1yJafPE/KbK8lcEUixKL8hIdyqBAxBx5VM/XbNpiwoCzsXLd1Xif4IGQ+1yTRMaisIW9W5xx1EKLUNAMiTJ+C0tWyUt6OAKmnkDzjYCQXCWoUaCOF/Eqs7n6TcWBUI2riKKPULVeOJoomosCqT5jBSwUxMbO5oGrmdZNQUlkepm3oaBEMTy7DSd+L4ZJryGDQttDEVxNcp4jS0YRfDRJ6QYBoLpKSOQwjLuRqtXD4CCBeuxzdO9io9Iw6ppzAxsR971iRahOFAI+d6TYtEHUlA6VyiahMfN1kghixNkKpqPV/OOu6JxEaVCQjLiu1G+DVc24w2/o3UWltOgdkM/r4eG78oabmjC0LR+gG0ryCCFcpA2uS7fLyPDC0+K6VzlDCf1HjSPlCSp1s3yoFKPnFoNhVDIL/KUN0S5nNaQScw5QILdiVAum0IuxhBWkwD4IhEb1dTYvQQ32+lhFhVCYC91tIhvZwvYvH+xedK+J7hk6+UL67QTB8zndNu6+yXqkmY2sZxKAamlijH7qoFIkqae99Ec7dwLa8NluswfPVXIDQZ/4ta5/lUtjpHewfMY11/QZa5CoP5vYY2XtD+2GMNbRt9fhTIuba3dhFGFyRszRdN2eIli7JbXCiajQnnYeJSRs7ETDVAmjh/pk+wUtWija8gsdVZinACTr8L3rvKkrgN02bj22G0N77RorseriPMCbsHinLYda69P7fRbDJ84oHDmACya+11tp0/2cdGQ3PIn77ZF0Y4L5BeH9MKZdYy5fsWiA8d62wn0016zY/A98pfg9YZiAZdM474hMBw42lqNiun++rkm9l0fBm5UDc1XEe4esdLJdlugXxmayAXYsqc8HsqdvoTl3nRexHih/CepknRdYTC70cJeyyQHZqdPWjZ+kJL6omuguyfbWbcDZBGH95aiDI+okTpL58G0uWrWi0ySWjT0crDrkAaS/JbCsi5Pq2DAV5Gb3YjrUa2ItC3PiFQiSgYVvVe2s8Hui6L5/ho8DbmLGQqNaT7CLvFfsBsGgTCau6F2DbTPzhSLZc7JsNnEezRi3Lyiu7SVxPtm1lyPscyTHkJ8yb57lyqrPD8OJOllGcMhk3S/O9ofBbrFpBPLLW1mtZN9CN5FuQNji0w2hOw0w6vs8jCP+K4hgDxnST7x8prMtmDPbfHKT7vHw7kHADs4DjFUSlDFl/nqonqiumnpWU1p/2HrxaijKCnFj0DIO9GfUS4sAceHaacdzfZwRlWYOVCr2B2PfSw50kfQ5iKu2xW2xB0h2U8xL9R+1/SWK0E6xBrapi8/0rYHXwYNAQINt3BSu4ybWsStcQSx+8mLazYd9OKe02UwhAgmFcfWnneZHkfj/eTLfYsXVt9ZsJ4afiu/IjUgSZWYM/7wz48NpOxuFFN6lhRjsJrRDc6Agjt51cgX+HbftYLkNFG2cnXoo2dw/lUS+bPYYc9vpm+HmDU0vvLj7MXV6JfUVYQf0yYXHmiaMVqgwq5IyjKlthA9Eac/ini/1GfPiVtjag2iLMDyLSwdXPlNFfVetBKN/a4qtm3vE8JjdUGZtUJms5qZGu5wcLx1opqA5PSx7ELcpuqv94xKpDx1krENzopPDeMpuRaGtHCawFa6a19Y0q2FCET0cb81lG0oVNqykc9sxNfWT7WESyijbWZhuq+YXHXBBLe2F4I5NBYZnuNljjGMfg/mltfW9uxgOArn7MTuWSstKLa0Fc32K1fCe9ttWHEMC1LhBj+NNn+P+EDnTi0ve6xjRk1VQ8858clEksjSoyV2QeTdp/N5rjC2Pt4XUPj7JLcBvkw7tzYQMJsv5TK+IOkXWQ14VQbqnHVvGbxuCBiRa0oMVaolzL/jwaUCxeHe/UtOgAthNc+h2m1w+8IYoGspovckLbj216cXRzd3lnqAsJZI8ZX2J7k4yHKhkKaBaXZtAhMQajvMvbUHUjo+F0A0TfrEu24WGEHC8NAXmMfbEgvHheQk7MPIYqv5AfkgPfmd0jMhNvyI7w8Dv5QrsPtNVkrkzcQTGw3b4G2Dz5hibt0Fe7TVoFtqKU4+D99yXgDMZErK88Sjt/zDcc23EJDX7p8zBeEl7MPCce8xYCDPqi7oD7hWOeEpvknTbjjBkQZHxuQV+ne1rg6vgm3IKFF6MI3/pwEhLGOpAR0Pm8XnYfDvoVAuThbrrqLyXNHTWIFot9stFFxQ8FFtkQ+Yhnh+J9QGz0R2/FZPlPdstGWBojEPjIsHC8iHL9fy/EjDr4XPKbcSWOkohEVBK30YKj369tyo9mrfqdM2Teb51pPjQY4NSAGTKf8ncS2oprj2wyOg69jM2F5GpqwNFIFYqIH2Zm2eN/wBsw2TAA9yj33spmgWzypjdSBYC57aYt/r/nBvl1qpdWKWV8TRHPbU0MQEkodSEh3Ga3qertLaUt0Mng3YXdB2iDSjVoR6Xg00Y827sGMeo1m+A4w+pbGPWjsyP8NkNDxt5Mcn9Tszf+g6COB5ZjUP+oBom4ascKCoR1z2kl++ZprD9YLxJjQ5UWEn/I+1831ZjbkXxfqwazQJx2NTeb177qO/wIsNEYb1Wj7jQAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport { Map, TileLayer, Circle, Marker, Popup, Tooltip } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport marker from './images/marker.png';\r\nimport markerAlt from './images/marker_alt.png';\r\n\r\nconst markerIcon = L.icon({\r\n    iconUrl: marker,\r\n    iconRetinaUrl: marker,\r\n    iconAnchor: null,\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: [30, 45],\r\n    className: 'marker.png'\r\n});\r\n\r\nconst markerAltIcon = L.icon({\r\n    iconUrl: markerAlt,\r\n    iconRetinaUrl: markerAlt,\r\n    iconAnchor: null,\r\n    shadowUrl: null,\r\n    shadowSize: null,  \r\n    shadowAnchor: null,\r\n    iconSize: [30, 45],\r\n    className: 'marker_alt.png'\r\n})\r\n\r\nfunction formatAddress(place) {\r\n    const {location} = place.venue;\r\n    const addr = location.formattedAddress;\r\n    return addr.join(', ');\r\n};\r\n\r\nfunction formatCoordinates(place) {\r\n    const {location} = place.venue;\r\n    const placeLat = location.lat;\r\n    const placeLong = location.lng;\r\n    const formattedCoords = [placeLat, placeLong];\r\n\r\n    return formattedCoords;\r\n};\r\n\r\nfunction formatToKilometers(meters) {\r\n    const result = (meters * 0.001).toFixed(2);\r\n    return result;\r\n};\r\n\r\nfunction formatToMiles(meters) {\r\n    const result = (meters * 0.000621371192).toFixed(2);\r\n    return result;\r\n};\r\n\r\nfunction createMetricsObj(meters) {\r\n    const miles = formatToMiles(meters);\r\n    const kilometers = formatToKilometers(meters);\r\n\r\n    return {\r\n        kilometers,\r\n        miles\r\n    };\r\n};\r\n\r\nfunction MapComponent(props) {\r\n    const {lat, long, zoom, places, nearest, queryError} = props;\r\n    const errorMessage = queryError ?\r\n    (\r\n        <div className=\"message absolute top-center index-top\">\r\n            {queryError}\r\n        </div>\r\n    ) : null;\r\n\r\n    const position = [lat, long];\r\n    const markers = places.length > 0 ? places.map(place => {\r\n        const {name, location} = place.venue;\r\n        const placePosition = formatCoordinates(place);\r\n        const placeAddress = formatAddress(place);\r\n        const distance = location.distance;\r\n        const metricsObject = createMetricsObj(distance);\r\n        // boolean that determines what color the marker will be set as\r\n        const isNearest = nearest.referralId === place.referralId;\r\n        return <Marker icon={isNearest ? markerAltIcon : markerIcon} position={placePosition} key={place.referralId}>\r\n            <Popup>\r\n                <div className=\"popup\">\r\n                    <h3>{name}</h3>\r\n                    <p>{placeAddress}</p>\r\n                    <p>{metricsObject.kilometers}km / {metricsObject.miles}mi away.</p>\r\n                </div>\r\n            </Popup>\r\n        </Marker>\r\n    }) : (\r\n        null\r\n    );\r\n\r\n    return (\r\n        <Map center={position} zoom={zoom} style={{flexGrow: 1}}>\r\n            <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\r\n            />\r\n            <Circle center={position} radius={100}/>\r\n            {markers}\r\n            {errorMessage}\r\n        </Map>\r\n    );\r\n};\r\n\r\nexport default MapComponent;","import React, {Component} from 'react';\r\n\r\nclass SearchForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            search: '',\r\n            location: ''\r\n        };\r\n    };\r\n\r\n    onChangeHandler = (e) => {\r\n        const {id, value} = e.target;\r\n\r\n        this.setState({\r\n            [id]: value\r\n        });\r\n    };\r\n\r\n    onSubmitHandler = (e) => {\r\n        const query = this.state.search;\r\n        const {location} = this.state;\r\n        e.preventDefault();\r\n        // we're interacting with the App state to change the places key of the state object based on the value we get from the form\r\n        this.props.fetchPlacesData(query, location);\r\n    };\r\n\r\n    render() {\r\n        const {location, search} = this.state;\r\n\r\n        return (\r\n            <div onSubmit={this.onSubmitHandler} className=\"form-container d-grid py-1\">\r\n                <form id=\"search-form\" className=\"d-flex flex-column justify-self w-75 p-1\">\r\n                    <input onChange={this.onChangeHandler} value={location} type=\"text\" id=\"location\" placeholder=\"e.g. st Fake Street, Manchester, UK (Optional)\"></input>\r\n                    <input onChange={this.onChangeHandler} value={search} type=\"text\" id=\"search\" placeholder=\"Point of Interest: e.g. Cafe\"></input>\r\n                    <button className=\"btn btn-primary\">Search</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default SearchForm;","import React, {Component} from 'react';\r\n\r\nclass WeatherComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.interval = '';\r\n        this.state = {\r\n            currentTime: new Date(new Date().toLocaleString().replace(/\\,]/g, ''))\r\n        };\r\n    };\r\n\r\n    formatTemp(temp, units) {\r\n        switch(units) {\r\n            case 'metric':\r\n                return `${temp}${String.fromCharCode(176)}C`\r\n        };\r\n    };\r\n    \r\n    formatDate(date) {\r\n        const newDate = new Date(date * 1000);\r\n        return newDate || new Date();\r\n    };\r\n\r\n    convertToLocale(date) {\r\n        return date.toLocaleString();\r\n    };\r\n    \r\n    getTime(date) {\r\n        const hours = this.prependZero(date.getHours());\r\n        const minutes = this.prependZero(date.getMinutes());\r\n        const seconds = this.prependZero(date.getSeconds());\r\n    \r\n        return `${hours}:${minutes}:${seconds}`;\r\n    };\r\n    \r\n    prependZero(number) {\r\n        if(number < 10) {\r\n            return '0' + number;\r\n        } else {\r\n            return number;\r\n        };\r\n    };\r\n    \r\n    convertToKilometers(meters) {\r\n        const result = (meters * 0.001).toFixed(2);\r\n        return result;\r\n    };\r\n    \r\n    convertToMiles(meters) {\r\n        const result = (meters * 0.000621371192).toFixed(2);\r\n        return result;\r\n    };\r\n\r\n    capitalizeText(text) {\r\n        return text.toUpperCase();\r\n    };\r\n\r\n    // this will reflect the passing of time on the current time in the UI\r\n    refreshTime = () => {\r\n        const localTime = new Date().toLocaleString().replace(/[\\,]/g, '');        \r\n        this.setState({\r\n            currentTime: new Date(localTime)\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(this.refreshTime, 1000);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    };\r\n\r\n    render() {\r\n        const {sunrise, sunset, temp, feels_like, visibility, humidity, wind_deg, wind_speed, weather} = this.props.weather.current || {};\r\n        const {country, road, city, town} = this.props.location;\r\n        const {units} = this.props;\r\n        const {currentTime} = this.state;\r\n\r\n        if(this.props.weather && this.props.location) {\r\n            return (\r\n                <div id=\"weather-container\">\r\n                    <div id=\"weather\" className=\"text-center gradient text-light p-bal\">\r\n                        <h3 className=\"m-0 display-2\">\r\n                            {road ? road + ', ' : ''}\r\n                            {city || town ? city + ', ' || town + ', ' : ''}\r\n                            {country}\r\n                        </h3>\r\n                        <h4 className=\"m-0\">{weather ? this.capitalizeText(weather[0].description) : this.capitalizeText('no data available')}</h4>\r\n                        <p className=\"display-3 m-0 hide-mobile\">{this.getTime(currentTime)}</p>\r\n                        <hr className=\"border-bottom border-light w-90\"></hr>\r\n                        <ul className=\"list-unstyled d-grid\" id=\"weather-data\">\r\n                            <li><b>Temperature</b>: {this.formatTemp(temp, units)}</li>\r\n                            <li><b>Feels Like</b>:{this.formatTemp(feels_like, units)}</li>\r\n                            <li><b>Wind Direction</b>: {wind_deg}&deg;</li>\r\n                            <li><b>Wind Speed</b>: {wind_speed}m/s</li>\r\n                            <li><b>Humidity</b>: {humidity}&#37;</li>\r\n                            <li><b>Visibility</b>: {this.convertToKilometers(visibility)}km</li>\r\n                            <li><b>Sunrise</b>: {this.getTime(this.formatDate(sunrise))}</li>\r\n                            <li><b>Sunset</b>: {this.getTime(this.formatDate(sunset))}</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        };\r\n    };\r\n};\r\n\r\nexport default WeatherComponent;","import React from 'react';\r\n\r\nfunction Nav() {\r\n    return (\r\n        <nav id=\"navigation\" className=\"nav d-flex flex-row justify-center\">\r\n            <i className=\"fas fa-map-marked-alt fa-2x text-primary\"></i>\r\n            <div className=\"display-4 ml-1\"><b>Navigator</b></div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Nav;","import React, {Component} from 'react';\r\nimport MapComponent from './Map';\r\nimport SearchForm from './SearchForm';\r\nimport WeatherComponent from './Weather';\r\nimport Nav from './Nav';\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            limit: 10,\r\n            lat: '',\r\n            long: '',\r\n            places: [],\r\n            nearest: '',\r\n            weather: '',\r\n            location: '',\r\n            units: 'metric',\r\n            queryError: ''\r\n        };\r\n    };\r\n\r\n    componentDidMount = async() => {\r\n        await this.fetchGeoData()\r\n        .then(() => {\r\n            this.fetchGeoDataNavigator();\r\n        });\r\n    };\r\n\r\n    success = async (pos) => {\r\n        const {coords} = pos;\r\n        const {latitude, longitude} = coords;\r\n        const location = await this.reverseGeoCode({lat: latitude, long: longitude});\r\n        this.setState({\r\n            lat: latitude,\r\n            long: longitude,\r\n            location\r\n        }, this.setStateCallback);\r\n    };\r\n\r\n    error = (err) => {\r\n        this.fetchGeoData();\r\n    };\r\n\r\n    getNearest = (places) => {\r\n        let result = '';\r\n        let shortestDistance = Number.POSITIVE_INFINITY;\r\n        for(let i = 0; i < places.length; i++) {\r\n            const current = places[i];\r\n            const distance = current.venue.location.distance;\r\n            // if it is lower than the shortestDistance, set shortestDistance to the new lowest value and keep doing so until we've reached the top\r\n            if(distance < shortestDistance) {\r\n                shortestDistance = distance;\r\n                result = current;\r\n            };\r\n        };\r\n        return result;\r\n    };\r\n\r\n    fetchWeatherData = () => {\r\n        const {lat, long, units} = this.state;\r\n        let url = `https://infinite-dusk-92659.herokuapp.com/openweathermap/?lat=${lat}&lon=${long}&exclude=hourly,daily,minutely&units=${units}`;\r\n\r\n        return fetch(url)\r\n        .then(res => res.json())\r\n        .then(weather => {\r\n            return this.setState({\r\n                weather\r\n            });\r\n        });\r\n    };\r\n\r\n    fetchGeoDataNavigator = () => {\r\n        navigator.geolocation.getCurrentPosition(this.success, this.error);\r\n    };\r\n\r\n    fetchGeoData = () => {\r\n        let url = `https://infinite-dusk-92659.herokuapp.com/iplookup`;\r\n\r\n        return fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {            \r\n            let lat, long;\r\n            [lat, long] = [data.ll[0], data.ll[1]];\r\n            // we're waiting for the state to change and then we fetch the weather data, otherwise lat and long are not guaranteed to have a value.\r\n            return this.setState({\r\n                lat, \r\n                long,\r\n                location: data\r\n            }, () => {\r\n                return this.setStateCallback();\r\n            });\r\n        });\r\n    };\r\n\r\n    setStateCallback = () => {\r\n        return this.fetchWeatherData();\r\n    };\r\n    \r\n    fetchPlacesData = (query, location) => {\r\n        const {country, road, city} = this.state.location;\r\n        const locationQuery = `${road ? road + ', ' : ''}${city}, ${country}`;\r\n\r\n        // don't make the call if the location is already the same, this is so that i don't waste my limited API requests\r\n        if(location && location !== locationQuery) {\r\n            this.forwardGeoCode(location, () => this.fetchPlacesRequest(query));\r\n        } else {\r\n            this.fetchPlacesRequest(query);\r\n        };\r\n    };\r\n\r\n    fetchPlacesRequest = (query) => {\r\n        const {limit, lat, long} = this.state;\r\n        let ll = `${lat},${long}`;\r\n        let url = `https://infinite-dusk-92659.herokuapp.com/foursquare/?&ll=${ll}&query=${query}&v=20180323&limit=${limit}`;\r\n\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(async data => {\r\n            // places is just an array of all points of interest, just had to format the data a bit.\r\n            const places = data ? data.response.groups[0].items : [];\r\n            if(places.length > 0) {\r\n                // nearest is used when setting the Map markers, the orange one will be the one that is closest to the visitor.\r\n                const nearest = this.getNearest(places);\r\n                this.setState({\r\n                    queryError: '',\r\n                    places,\r\n                    nearest\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    queryError: 'There were no results for your search.'\r\n                });\r\n            };\r\n        });\r\n    };\r\n\r\n    reverseGeoCode(coords) {\r\n        const {lat, long} = coords;\r\n        const url = `https://infinite-dusk-92659.herokuapp.com/opencagedata/?q=${lat},${long}+`;\r\n\r\n        return fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            const location = data.results[0].components;\r\n            return location;\r\n        });\r\n    };\r\n\r\n    forwardGeoCode(query, cb) {\r\n        const formattedQuery = query.trim().replace(/\\s/g, '+');\r\n        const url = `https://infinite-dusk-92659.herokuapp.com/opencagedata/?q=${formattedQuery}`;\r\n\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            const result = data.results[0];\r\n            // what happens if there is no result\r\n            if(!result) {\r\n                return;\r\n            };\r\n            const {components, geometry} = result;\r\n            const lat = geometry.lat;\r\n            const long = geometry.lng;\r\n\r\n            if(cb) {\r\n                this.setState({\r\n                    lat,\r\n                    long,\r\n                    location: components\r\n                }, cb);\r\n            } else {\r\n                this.setState({\r\n                    lat,\r\n                    long,\r\n                    location: components\r\n                });\r\n            };\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {lat, long, places, nearest, weather, location, units, queryError} = this.state;\r\n        const content = lat && long ? (\r\n            <div className=\"vh-100 d-flex flex-column\">\r\n                <Nav />\r\n                <SearchForm fetchPlacesData={this.fetchPlacesData}/>\r\n                <MapComponent lat={lat} long={long} zoom=\"12\" places={places} nearest={nearest} queryError={queryError}/>\r\n                <WeatherComponent weather={weather} location={location} units={units}/>\r\n            </div>\r\n        ) : (\r\n            <div className=\"d-flex vh-100 flex-column\">\r\n                <Nav />\r\n                <div className=\"loading-screen d-grid flex-grow-1\">\r\n                    <div className=\"content align-self justify-self d-flex align-center justify-center flex-column\">\r\n                        <div className=\"loader\"></div>\r\n                        <h3 className=\"text-center display-1\">Loading...</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n        return content;\r\n    };\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './styles/style.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}